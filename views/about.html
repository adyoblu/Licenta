<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* Set the size of the div element that contains the map */
       #map {
         height: 400px;  /* The height is 400 pixels */
         width: 100%;  /* The width is the width of the web page */
        }
        html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
     </style>
     <link rel="icon" type="image/png" href="../public/imagini/avatar.ico"/>

</head>
<body style="margin:0px; padding:0px;" onload = "render(); initMap();">
    <!-- start #header -->
    <header id="header">
        <nav id="showMe" class="navbar navbar-expand-md navbar-dark fixed-top text-dark" style="background-color: black !important;">
        <div id="container">  
            <div id="wrapper">
                <div id="unu">
                    
                    <div class="inner-div">
                        <a href="index.html" class="text dark-text navbar-brand text-white">
                        <i class="logo1 fas fa-store-alt"></i> 
                        Shome Store
                        </a>
                    </div>
                    <!--dropdown menu-->
                    <div id="produse">
                      <ul class="using">
                          <li class="pad"><a href="#" class="nounderline text-white"><span><b>Produse</b></span></a>
                              <ul>
                              <div class="sub-wrapper-produse">
                                  <div class="sub-con">
                                      <div class="sub-hol">
                          
                                          <div class="sub-l">
                                              <h3>Chiuvete si baterii</h3>
                                              <ul>
                                                  <li><a href="prod.html?myVar1=1">Izolatii</a></li>
                                                  <li><a href="prod.html?myVar1=2">Chiuvete</a></li>
                                                  <li><a href="prod.html?myVar1=3">Aragaz</a></li>
                                                  <li><a href="prod.html?myVar1=4">Blaturi</a></li>
                                                  <li><a href="prod.html?myVar1=5">Hote de bucatarie</a></li>
                                                  <li><a href="prod.html?myVar1=6">Accesorii</a></li>
                                              </ul>
                                          </div>
                                          
                                          <div class="sub-m">
                                              <h3>Totul pentru casa ta</h3>
                                              <div class="sub-in-l">
                                              <ul>
                                                  <li><a href="prod.html?myVar1=7">Draperii</a></li>
                                                  <li><a href="prod.html?myVar1=8">Becuri</a></li>
                                                  <li><a href="prod.html?myVar1=9">Ferestre</a></li>
                                                  <li><a href="prod.html?myVar1=10">Prelungitoare</a></li>
                                                  <li><a href="prod.html?myVar1=11">Lanterne</a></li>
                                                  <li><a href="prod.html?myVar1=12">Plafoniere</a></li>
                                                  <li><a href="prod.html?myVar1=13">Spoturi</a></li>
                                                  <li><a href="prod.html?myVar1=14">Iluminare mobila</a></li>
                                              </ul>
                                              </div>
                                              
                                          <div class="sub-in-l">
                                              <ul>
                                                  <li><a href="prod.html?myVar1=15">Parchet</a></li>
                                                  <li><a href="prod.html?myVar1=16">Faianta</a></li>
                                                  <li><a href="prod.html?myVar1=17">Gresie</a></li>
                                                  <li><a href="prod.html?myVar1=18">Covoare</a></li>
                                                  <li><a href="prod.html?myVar1=19">Usi interioare</a></li>
                                                  <li><a href="prod.html?myVar1=20">Lemn</a></li>
                                                  <li><a href="prod.html?myVar1=21">Scari</a></li>
                                                  <li><a href="prod.html?myVar1=22">Ciment</a></li>
                                              </ul>
                                              </div>
                                          </div>
                                          
                                          <div class="sub-r">
                                              <h3>Unelte</h3>
                                              <ul>
                                                  <li><a href="prod.html?myVar1=23">Cuie</a></li>
                                                  <li><a href="prod.html?myVar1=24">Suruburi</a></li>
                                                  <li><a href="prod.html?myVar1=25">Masinarii</a></li>
                                                  <li><a href="prod.html?myVar1=26">Balamale</a></li>
                                                  <li><a href="prod.html?myVar1=27">Lanturi</a></li>
                                                  <li><a href="prod.html?myVar1=28">Panouri</a></li>
                                              </ul>
                                          </div>
                                          
                                      </div>
                                  </div>
                              </div>
                          </li>	
                          </ul>	
                      </ul>
                  </div>
                  <!--dropdown menu-->
                    <div id="blog">
                        <ul>
                            <li class="pad">
                                <a href="blog.html" class="nounderline text-white">
                                    <span><b>Blog</b></span>
                                </a>
                            </li>
                        <ul>
                    </div>
                    <div id="contact">
                        <ul>
                            <li class="pad">
                                <a href="contact.html" class="nounderline text-white">
                                    <span><b>Contact</b></span>
                                </a>
                            </li>
                        <ul>
                    </div>

                    <div id="buy" class="float-right">
                        <ul>
                             <li class="pad">
                                <a href="cart.html" class="nounderline text-white">
                                    <span>
                                        <i class=" text-warning fas fa-shopping-cart px-1 border-bottom "></i><b>Coș de cumpărături</b>
                                        <i style="color: lightgreen; font-size: 18px;" id="cart_n"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <br><br><br><br><br><br>
    </header>
<!-- !start #header -->



<div>
    <label for="raddressInput">Cauta locatia:</label>
    <input type="text" id="addressInput" size="15"/>
   <label for="radiusSelect">Raza de actiune:</label>
   <select id="radiusSelect" label="Radius">
     <option value="50" selected>50 kms</option>
     <option value="30">30 kms</option>
     <option value="20">20 kms</option>
     <option value="10">10 kms</option>
   </select>

   <input type="button" id="searchButton" value="Search"/>
</div>
<div><select id="locationSelect" style="width: 10%; visibility: hidden"></select></div>
<div id="map" style="width: 100%; height: 90%"></div>




<main id="main-site">
    <!-- start #footer -->
    <footer id="footer1" class="bg-dark text-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-sm-3 col-md-6 col-lg-4 col-xl-6">
                    <div class="box">
                        <h4 class="font-rubik font-size-20">Despre Shome</h4>
                        <p class="font-size-14 font-rale text-white-50">Vrem să fim aproape de clienții noștri și să îi ajutăm să-și înfrumusețeze căminul cu costuri minime. Împreună construim ACASĂ... acel ACASĂ unde abia așteptăm să ne întoarcem după serviciu, unde ne dorim confort și liniste... ACASĂ unde ne bucurăm de familie și ne invităm prietenii... Te ajutăm să faci cea mai bună alegere în funcție de nevoia ta și îți venim în întampinare cu prețuri pentru toate bugetele. Zi de zi!</p>
                        <ul class="list-unstyled social">
                            <li><a href="https://www.facebook.com/ionutoblu/"><span class="fab fa-facebook-f"></span></a></li>
                            <li><a href="https://github.com/adyoblu"><span class="fab fa-github"></span></a></li>
                            <li><a href="https://www.instagram.com/obluadrian/?hl=ro"><span class="fab fa-instagram"></span></a></li>
                            <li><a href="https://www.linkedin.com/in/oblu-ionu%C8%9B-adrian-7845a682/?originalSubdomain=ro"><span class="fab fa-linkedin"></span></a></li>
                          </ul>
                    </div>
            </div>

            <div class="col-sm-3 col-md-6 col-lg-4 col-xl-2">
                <h4 class="font-rubik font-size-20">Informații</h4>
                <div class="d-flex flex-column flex-wrap">
                    <a href="about.html" class="font-rale font-size-14 text-white-50 pb-1">Despre noi</a>
                    <a href="contact.html" class="font-rale font-size-14 text-white-50 pb-1">Contact</a>
                    <a href="livrare.html" class="font-rale font-size-14 text-white-50 pb-1">Informații livrare</a>
                    <a href="date.html" class="font-rale font-size-14 text-white-50 pb-1">Politică date personale</a>
                </div>
            </div>

            <div class="col-sm-9 col-md-6 col-lg-8 col-xl-4">
                <form class="form-row">
                    <div class="col">
                        <div class="footer__widget">
                        <h6 class="text-white">Alatura-te pentru oferte noi!</h6>
                        <p class="text-white">Update-uri pe e-mail despre ultimele noastre oferte.</p>
                    <form>
                        <input id="mail" type="text" placeholder="Enter your mail">
                        <button type="submit" onclick="sendEmail();" class="site-btn">Subscribe</button>

            </div>
            </div>
        </div>
      </footer>
      <!-- !start #footer -->
    </main>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
 
     <!-- Sweet alert-->
     <script src="https://cdn.jsdelivr.net/npm/sweetalert2@7.33.1/dist/sweetalert2.all.min.js"></script>
 
     <!-- Custom Javascript -->
    <script language="JavaScript" type="text/javascript" src="../public/scripts/headers.js"></script>
    <script language="JavaScript" type="text/javascript" src="../public/scripts/index.js"></script>
     <script>
     var map;
       var markers = [];
       var infoWindow;
       var locationSelect;
 
         function initMap() {
           var sydney = {lat: -33.863276, lng: 151.107977};
           map = new google.maps.Map(document.getElementById('map'), {
             center: sydney,
             zoom: 11,
             mapTypeId: 'roadmap',
             mapTypeControlOptions: {style: google.maps.MapTypeControlStyle.DROPDOWN_MENU}
           });
           infoWindow = new google.maps.InfoWindow();
 
           searchButton = document.getElementById("searchButton").onclick = searchLocations;
 
           locationSelect = document.getElementById("locationSelect");
           locationSelect.onchange = function() {
             var markerNum = locationSelect.options[locationSelect.selectedIndex].value;
             if (markerNum != "none"){
               google.maps.event.trigger(markers[markerNum], 'click');
             }
           };
         }
 
        function searchLocations() {
          var address = document.getElementById("addressInput").value;
          var geocoder = new google.maps.Geocoder();
          geocoder.geocode({address: address}, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
             searchLocationsNear(results[0].geometry.location);
            } else {
              alert(address + ' not found');
            }
          });
        }
 
        function clearLocations() {
          infoWindow.close();
          for (var i = 0; i < markers.length; i++) {
            markers[i].setMap(null);
          }
          markers.length = 0;
 
          locationSelect.innerHTML = "";
          var option = document.createElement("option");
          option.value = "none";
          option.innerHTML = "See all results:";
          locationSelect.appendChild(option);
        }
 
        function searchLocationsNear(center) {
          clearLocations();
 
          var radius = document.getElementById('radiusSelect').value;
          var searchUrl = 'storelocator.php?lat=' + center.lat() + '&lng=' + center.lng() + '&radius=' + radius;
          downloadUrl(searchUrl, function(data) {
            var xml = parseXml(data);
            var markerNodes = xml.documentElement.getElementsByTagName("marker");
            var bounds = new google.maps.LatLngBounds();
            for (var i = 0; i < markerNodes.length; i++) {
              var id = markerNodes[i].getAttribute("id");
              var name = markerNodes[i].getAttribute("name");
              var address = markerNodes[i].getAttribute("address");
              var distance = parseFloat(markerNodes[i].getAttribute("distance"));
              var latlng = new google.maps.LatLng(
                   parseFloat(markerNodes[i].getAttribute("lat")),
                   parseFloat(markerNodes[i].getAttribute("lng")));
 
              createOption(name, distance, i);
              createMarker(latlng, name, address);
              bounds.extend(latlng);
            }
            map.fitBounds(bounds);
            locationSelect.style.visibility = "visible";
            locationSelect.onchange = function() {
              var markerNum = locationSelect.options[locationSelect.selectedIndex].value;
              google.maps.event.trigger(markers[markerNum], 'click');
            };
          });
        }
 
        function createMarker(latlng, name, address) {
           var html = "<b>" + name + "</b> <br/>" + address;
           var marker = new google.maps.Marker({
             map: map,
             position: latlng
           });
           google.maps.event.addListener(marker, 'click', function() {
             infoWindow.setContent(html);
             infoWindow.open(map, marker);
           });
           markers.push(marker);
         }
 
        function createOption(name, distance, num) {
           var option = document.createElement("option");
           option.value = num;
           option.innerHTML = name;
           locationSelect.appendChild(option);
        }
 
        function downloadUrl(url, callback) {
           var request = window.ActiveXObject ?
               new ActiveXObject('Microsoft.XMLHTTP') :
               new XMLHttpRequest;
 
           request.onreadystatechange = function() {
             if (request.readyState == 4) {
               request.onreadystatechange = doNothing;
               callback(request.responseText, request.status);
             }
           };
 
           request.open('GET', url, true);
           request.send(null);
        }
 
        function parseXml(str) {
           if (window.ActiveXObject) {
             var doc = new ActiveXObject('Microsoft.XMLDOM');
             doc.loadXML(str);
             return doc;
           } else if (window.DOMParser) {
             return (new DOMParser).parseFromString(str, 'text/xml');
           }
        }
 
        function doNothing() {}
 </script>
           <script async defer
           src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDnZ26jiRkBR4mxJr4G9mmzjuSsL_uj7uo&callback=initMap">
           </script>
</body>
</html>